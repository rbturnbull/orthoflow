<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rules &mdash; orthoflow 0.1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contributing" href="contributing.html" />
    <link rel="prev" title="Workflow development guidelines" href="workflow_dev.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> orthoflow
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="beginner_tutorial.html">Orthoflow Beginner’s Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_tutorial.html">Orthoflow Advanced Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="intake.html">Data Intake Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="orthologs.html">Orthologs Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="alignment.html">Alignment Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="supermatrix.html">Supermatrix Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow_dev.html">Workflow development guidelines</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Rules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#intake-smk">intake.smk</a></li>
<li class="toctree-l2"><a class="reference internal" href="#orthologs-smk">orthologs.smk</a></li>
<li class="toctree-l2"><a class="reference internal" href="#alignment-smk">alignment.smk</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supermatrix-smk">supermatrix.smk</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Citation and Attribution</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">orthoflow</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Rules</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/main/rules.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="rules">
<h1>Rules<a class="headerlink" href="#rules" title="Permalink to this headline"></a></h1>
<p>This is an automatically generated list of all supported rules, their docstrings, and command. At the start of each
workflow run a list is printed of which rules will be run. And while the workflow is running it prints which rules are
being started and finished. This page is here to give an explanation to the user about what each rule does, and for
developers to find what is, and isn’t yet supported. Not all Metaphor rules are listed here, only the ones with a
<code class="docutils literal notranslate"><span class="pre">shell</span></code> directive. Rules with <code class="docutils literal notranslate"><span class="pre">script</span></code> or <code class="docutils literal notranslate"><span class="pre">wrapper</span></code> directives are not included. To see all rules in Metaphor,
please refer to the <a class="reference external" href="https://github.com/vinisalazar/metaphor/tree/main/workflow">workflow source code</a>.</p>
<section id="intake-smk">
<h2>intake.smk<a class="headerlink" href="#intake-smk" title="Permalink to this headline"></a></h2>
<p><strong>gbseqextractor</strong></p>
<p>Extracts CDS features from GenBank files with gbseqextractor.</p>
<p>Not used if input files already at in fasta format.
gbseqextractor is found here: https://github.com/linzhi2013/gbseqextractor</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">[</span> <span class="s2">&quot;</span><span class="si">{params.is_genbank}</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s2">&quot;True&quot;</span> <span class="p">]</span> <span class="p">;</span> <span class="n">then</span>
    <span class="n">echo</span> <span class="n">Using</span> <span class="n">gbseqextractor</span> <span class="n">to</span> <span class="n">convert</span> <span class="p">{</span><span class="nb">input</span><span class="o">.</span><span class="n">file</span><span class="p">}</span> <span class="n">to</span> <span class="p">{</span><span class="n">output</span><span class="p">}</span>
    <span class="n">gbseqextractor</span> <span class="o">-</span><span class="n">f</span> <span class="p">{</span><span class="nb">input</span><span class="o">.</span><span class="n">file</span><span class="p">}</span> <span class="o">-</span><span class="n">types</span> <span class="n">CDS</span> <span class="o">-</span><span class="n">prefix</span> <span class="n">results</span><span class="o">/</span><span class="n">fasta</span><span class="o">/</span><span class="p">{</span><span class="n">wildcards</span><span class="o">.</span><span class="n">source</span><span class="p">}</span>
<span class="k">else</span>
    <span class="n">echo</span> <span class="n">File</span> <span class="p">{</span><span class="nb">input</span><span class="o">.</span><span class="n">file</span><span class="p">}</span> <span class="ow">not</span> <span class="n">of</span> <span class="nb">type</span> <span class="n">GenBank</span><span class="p">,</span> <span class="n">creating</span> <span class="n">softlink</span> <span class="n">at</span> <span class="p">{</span><span class="n">output</span><span class="p">}</span>
    <span class="n">ln</span> <span class="o">-</span><span class="n">svr</span> <span class="p">{</span><span class="nb">input</span><span class="o">.</span><span class="n">file</span><span class="p">}</span> <span class="p">{</span><span class="n">output</span><span class="p">}</span>
<span class="n">fi</span>
</pre></div>
</div>
<p><strong>add_taxon</strong></p>
<p>Prepends the taxon name to the description of each sequence in a fasta file.</p>
<p><strong>translate</strong></p>
<p>Translates coding sequences to amino acid sequences using BioKIT.</p>
<p>It relies on the <code class="docutils literal notranslate"><span class="pre">translation_table</span></code> column in the input CSV.
It expects a number there which corresponds with the NCBI genetic codes:
https://www.ncbi.nlm.nih.gov/Taxonomy/Utils/wprintgc.cgi?chapter=tgencodes</p>
<p>BioKIT is found here: https://github.com/JLSteenwyk/BioKIT</p>
</section>
<section id="orthologs-smk">
<h2>orthologs.smk<a class="headerlink" href="#orthologs-smk" title="Permalink to this headline"></a></h2>
<p><strong>orthofinder</strong></p>
<p>Runs <code class="docutils literal notranslate"><span class="pre">OrthoFinder</span> <span class="pre">&lt;https://github.com/davidemms/OrthoFinder&gt;</span></code>_ on fasta files from the intake rule.</p>
<p><strong>filter_orthofinder</strong></p>
<p>Copy out OGs with more than a minimum number of sequences.</p>
<p>:config: filter_orthofinder</p>
</section>
<section id="alignment-smk">
<h2>alignment.smk<a class="headerlink" href="#alignment-smk" title="Permalink to this headline"></a></h2>
<p><strong>mafft_aa</strong></p>
<p>Mafft AA</p>
<p><strong>trim_seqIDs_to_taxon</strong></p>
<p>Trim sequence IDs to taxon.</p>
</section>
<section id="supermatrix-smk">
<h2>supermatrix.smk<a class="headerlink" href="#supermatrix-smk" title="Permalink to this headline"></a></h2>
<p><strong>list_alignments</strong></p>
<p>List alignments.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Concatenate</span> <span class="n">alignments</span><span class="o">.</span>
</pre></div>
</div>
<p><strong>concatenate_alignments</strong></p>
<p>Concatenate alignments.</p>
<p><strong>iqtree_supermatrix</strong></p>
<p>IQTREE supermatrix.</p>
<hr class="docutils" />
<p><strong>Disclaimer</strong></p>
<p>This page was generated with a script adapted from the
<a class="reference external" href="https://github.com/vanheeringen-lab/seq2science">seq2science repository</a>.</p>
<p>MIT License</p>
<p>Copyright (c) 2019 Maarten-vd-Sande (vanheeringen-lab)</p>
<p>For the full license, please see the
<a class="reference external" href="https://github.com/rbturnbull/orthoflow/blob/master/docs/scripts/rule_description.py">script source code</a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="workflow_dev.html" class="btn btn-neutral float-left" title="Workflow development guidelines" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022 University of Melbourne.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>